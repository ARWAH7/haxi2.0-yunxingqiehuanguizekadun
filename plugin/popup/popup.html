<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { width: 320px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f8fafc; padding: 16px; }
    .header { display: flex; align-items: center; gap: 8px; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 2px solid #e2e8f0; }
    .header h1 { font-size: 15px; font-weight: 800; color: #1e293b; }
    .header .dot { width: 8px; height: 8px; border-radius: 50%; }
    .dot.connected { background: #22c55e; box-shadow: 0 0 6px #22c55e; }
    .dot.disconnected { background: #ef4444; }
    .section { background: white; border-radius: 12px; padding: 12px; margin-bottom: 10px; border: 1px solid #e2e8f0; }
    .section h3 { font-size: 11px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px; }
    .stat-row { display: flex; justify-content: space-between; align-items: center; padding: 4px 0; }
    .stat-label { font-size: 12px; color: #64748b; }
    .stat-value { font-size: 13px; font-weight: 700; color: #1e293b; }
    .stat-value.profit { color: #22c55e; }
    .stat-value.loss { color: #ef4444; }
    .input-group { margin-bottom: 8px; }
    .input-group label { display: block; font-size: 11px; font-weight: 600; color: #64748b; margin-bottom: 4px; }
    .input-group input { width: 100%; padding: 6px 10px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 12px; outline: none; }
    .input-group input:focus { border-color: #6366f1; box-shadow: 0 0 0 2px rgba(99,102,241,0.1); }
    .btn { width: 100%; padding: 8px; border: none; border-radius: 10px; font-size: 12px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
    .btn-primary { background: #6366f1; color: white; }
    .btn-primary:hover { background: #4f46e5; }
    .btn-save { background: #22c55e; color: white; margin-top: 4px; }
    .btn-save:hover { background: #16a34a; }
    .info { font-size: 11px; color: #94a3b8; text-align: center; margin-top: 8px; }
  </style>
</head>
<body>
  <div class="header">
    <div class="dot" id="statusDot"></div>
    <h1>HAXI 下注执行器 v4.0</h1>
  </div>

  <div class="section">
    <h3>连接状态</h3>
    <div class="stat-row">
      <span class="stat-label">后端服务</span>
      <span class="stat-value" id="backendStatus">检测中...</span>
    </div>
    <div class="stat-row">
      <span class="stat-label">游戏页面</span>
      <span class="stat-value" id="gameStatus">未检测</span>
    </div>
  </div>

  <div class="section">
    <h3>运行统计</h3>
    <div class="stat-row">
      <span class="stat-label">总下注</span>
      <span class="stat-value" id="totalBets">0</span>
    </div>
    <div class="stat-row">
      <span class="stat-label">胜率</span>
      <span class="stat-value" id="winRate">0%</span>
    </div>
    <div class="stat-row">
      <span class="stat-label">盈亏</span>
      <span class="stat-value" id="profitLoss">0</span>
    </div>
  </div>

  <div class="section">
    <h3>后端API设置</h3>
    <div class="input-group">
      <label>API 地址</label>
      <input type="text" id="apiUrl" placeholder="http://localhost:3001">
    </div>
    <button class="btn btn-save" id="saveBtn">保存设置</button>
  </div>

  <p class="info">前端托管系统控制下注 · 插件负责执行</p>

  <script src="popup.js"></script>
</body>
</html>
